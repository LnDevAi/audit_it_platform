# ==========================================
# E-DEFENCE Audit Platform - Configuration
# ==========================================

# Base de données
# Pour le développement, laissez ces variables vides pour utiliser SQLite automatiquement
DB_HOST=
DB_PORT=3306
DB_NAME=audit_platform_saas
DB_USER=audit_user
DB_PASSWORD=CHANGE_THIS_PASSWORD_IN_PRODUCTION

# Mode développement (SQLite automatique si DB_HOST est vide)
USE_SQLITE=true

# JWT Configuration
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_IN_PRODUCTION
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=CHANGE_THIS_TO_ANOTHER_VERY_LONG_RANDOM_STRING
JWT_REFRESH_EXPIRES_IN=7d

# Serveur
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# Email Configuration (optionnel)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM=noreply@e-defence.bf

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/csv

# SaaS Configuration
SAAS_MODE=true
DEFAULT_PLAN=trial
TRIAL_DURATION_DAYS=30

# Billing
BILLING_ENABLED=true
PAYMENT_GATEWAY=orange_money
INVOICE_PREFIX=INV-

# Multi-tenant
TENANT_ISOLATION=strict
MAX_ORGS_PER_SERVER=1000

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# Security
BCRYPT_ROUNDS=12
SESSION_SECRET=CHANGE_THIS_SESSION_SECRET_IN_PRODUCTION
CORS_ORIGIN=http://localhost:3000

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Redis Configuration
# Pour le développement, laissez ces variables vides pour utiliser le mock Redis
REDIS_HOST=
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Mode développement (Mock Redis automatique si REDIS_HOST est vide)
USE_MOCK_REDIS=true

# Database Performance
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=60000
DB_POOL_IDLE=10000
DB_POOL_EVICT=1000
DB_SSL=false

# Monitoring Script
MONITORING_INTERVAL=30000
MONITORING_LOG_FILE=./logs/monitoring.log

# Backup
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# 2FA Configuration
TWO_FACTOR_ENABLED=true
TWO_FACTOR_ISSUER=E-DEFENCE Audit Platform

# Payment Gateways
ORANGE_MERCHANT_KEY=your_orange_merchant_key
ORANGE_MERCHANT_SECRET=your_orange_merchant_secret
ORANGE_ACCESS_TOKEN=your_orange_access_token

MOBILE_MONEY_MERCHANT_ID=your_mobile_money_merchant_id
MOBILE_MONEY_API_KEY=your_mobile_money_api_key
MOBILE_MONEY_WEBHOOK_SECRET=your_mobile_money_webhook_secret

# Queue Configuration
QUEUE_REDIS_URL=redis://localhost:6379
QUEUE_CONCURRENCY=5

# Webhook Configuration
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3

# Port Management
AUTO_PORT_CONFIG=true
PORT_CONFIG_FILE=./config/ports.json

# API Public
API_PUBLIC_ENABLED=true
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600000

# Security Enhancements
JWT_BLACKLIST_ENABLED=true
SESSION_TIMEOUT=86400000
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_DURATION=900000
